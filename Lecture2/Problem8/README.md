
# Problem 8 迷宫问题

代码：
[gitee](https://gitee.com/Qzx3337/data-structure-course/tree/master/Lecture2/Problem8)

# 笔记

language: C.

使用广度优先搜索策略，用队列模拟搜索过程。

现在已经添加了深搜版本。

使用到的队列和栈内部用链表实现


## 问题

1. 样例中居然还给了斜对角行走的标识，大概是写错了吧。
    如果写着都能走那么样例输出都不正确了。

2. 样例输入中理应有 ``` m, n```。

3. 样例貌似是深搜的结果，但是题目没有给定策略，给出来的也不是最短路径。


## 栈模拟版本

代码：
[gitee](https://gitee.com/Qzx3337/data-structure-course/tree/master/Lecture2/Problem8/Problem8_stack)

使用标准C语言实现 P8 寻路问题的解决思路和策略。

该思路采用深度优先搜索算法，利用栈（stack）来实现搜索过程中的回溯和路径记录。

### 程序思路

程序的思路分为以下几个步骤：

1. 读入地图。在地图中，0 表示可通行，1 表示障碍物。
2. 读入起点和终点。
3. 初始化动作列表 deltaP。
4. 使用 DFS 搜索路径，同时记录前驱结点。
5. 打印路径和地图。

### 程序策略

程序的策略主要体现在 DFS 算法的具体实现上，包括如下几个方面：

1. 判断当前结点是否合法。如果当前结点越界或者为障碍物，则返回上一层结点。
2. 判断当前结点是否为终点。如果是，则记录路径并返回上一层结点。
3. 遍历当前结点的四个相邻结点，并按照顺序依次进行 DFS 搜索。
4. 在搜索过程中，使用栈来记录当前路径。当搜索遇到死路时，回溯到上一层结点，并弹出栈顶元素。
5. 使用前驱结点数组 pre 来记录每个结点的前驱结点，以便在搜索结束后构造路径。

### 程序结构

程序分为以下几个文件：

- p8_stack.h：栈的实现。
- p8.c：主程序。
- p8.in：输入文件。
- p8.out：输出文件。

## 堆模拟版本

代码：
[gitee](https://gitee.com/Qzx3337/data-structure-course/tree/master/Lecture2/Problem8/Problem8_queue)

### 简介

迷宫问题指的是在一个矩形的网格图中，从起点出发，按照一定的规则移动，寻找到达终点的路径的问题。在本文中，我们将介绍一个用于解决迷宫问题的算法。

### 算法原理

本文介绍的算法采用了广度优先搜索（BFS）的思想，寻找从起点到终点的路径。

算法的基本思路是，从起点开始，按照一定的规则（如上下左右移动或八个方向移动）依次访问相邻的节点，并将其存入队列中。然后从队列中取出队首节点，重复以上步骤，直到找到终点或者队列为空为止。

在此过程中，使用一个二维数组 `pre` 来记录每个节点的前驱节点，即从起点到该节点的路径上的上一个节点。这样，当找到终点时，就可以通过 `pre` 数组来回溯路径。

### 程序实现

本文介绍的算法已经在给出的标准C程序中实现。程序中定义了一个 `Point` 结构体，用于存储迷宫中的节点坐标。此外，还定义了一个二维数组 `mmap`，用于存储迷宫的地图，以及一个二维数组 `pre`，用于记录每个节点的前驱节点。

程序的主要实现过程如下：

1. 读入迷宫地图和起点、终点坐标；
2. 初始化移动方向数组 `deltaP`，用于表示各个方向的位移；
3. 利用 BFS 算法搜索起点到终点的路径，将路径上的节点在 `pre` 数组中标记为路径途径点；
4. 通过 `pre` 数组回溯路径，输出路径坐标和移动方向；
5. 输出标记了路径的迷宫地图。



# 题面

[校园TIC平台](https://itc.hzau.edu.cn/assignment/fileUploadList.jsp?proNum=2&courseID=6&assignID=4940&libCenter=false)

## 【问题描述】
以一个m*n的长方阵表示迷宫，0和1分别表示迷宫中的通路和障碍。设计一个程序，对任意设定的迷宫，求出一条从入口到出口的通路，或得出没有通路的结论。

## 【输入形式】
输入一个m*n的长方阵，0和1分别表示迷宫中的通路和障碍。

## 【输出形式】
一条从入口到出口的通路，并用图形表示(输出矩阵，属于通路中的点用字符*替换)。

## 【样例输入】

左上角（1，1）为入口，右下角（9，8）为出口。

```
 0	 0	 1	 0	 0	 0	 1	 0
 0	 0	 1	 0	 0	 0	 1	 0
 0	 0	 0	 0	 1	 1	 0	 1
 0	 1	 1	 1	 0	 0	 1	 0
 0	 0	 0	 1	 0	 0	 0	 0
 0	 1	 0	 0	 0	 1	 0	 1
 0	 1	 1	 1	 1	 0	 0	 1
 1	 1	 0	 0	 0	 1	 0	 1
 1	 1	 0	 0	 0	 0	 0	 0
```

## 【样例输出】

```
(1,1,1),(1,2,2),(2,2,2),(3,2,3),(3,1,2),(4,1,2),(5,1,1),(5,2,1),(5,3,2),(6,3,1),(6,4,1),(6,5,4),(5,5,1),(5,6,1),(5,7,2),(6,7,2),(7,7,2),(8,7,2),(9,7,1)
```

## 【样例说明】
设一个9x8的长方阵，每个元素的值为0或1，其中0和1分别表示迷宫中的通路和障碍。通路以三元组（i,j,d) 的形式输出，其中：（i,j) 指示迷宫中的一个坐标，d 表示走到下一坐标的方向。东、南、西、北依次为1，2，3，4。东南、西南、东北、西北依次为5，6，7，8。



